USE WayaRestDB;


CREATE TABLE admin (
adm_id INT AUTO_INCREMENT PRIMARY KEY,
username VARCHAR(50) UNIQUE,
email VARCHAR(100) NOT NULL UNIQUE,
code VARCHAR(50),
date TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);


CREATE TABLE restaurant (
rs_id INT AUTO_INCREMENT PRIMARY KEY,
title VARCHAR(100) NOT NULL,
email varchar(100) not null unique,
phone varchar(15) not null

);


CREATE TABLE dishes (
d_id INT AUTO_INCREMENT PRIMARY KEY,
rs_id INT,
title VARCHAR(50) NOT NULL,
slogan TEXT,
price DECIMAL(10, 2),
img VARCHAR(255),
FOREIGN KEY (rs_id) REFERENCES restaurant(rs_id)
);
create table res_category(
c_id int auto_increment primary key,
c_name varchar(100) not null unique
);
CREATE TABLE users (
u_id INT AUTO_INCREMENT PRIMARY KEY,
username VARCHAR(100) NOT NULL UNIQUE,
email VARCHAR(100) NOT NULL UNIQUE,
phone VARCHAR(20) NOT NULL,
password VARCHAR(255),
address TEXT NOT NULL,
status INT DEFAULT 1,
date TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
DROP TABLE IF EXISTS user_orders;

CREATE TABLE user_orders (
o_id INT AUTO_INCREMENT PRIMARY KEY,
u_id INT,
title VARCHAR(100) NOT NULL,
quantity INT NOT NULL,
price DECIMAL NOT NULL,
status VARCHAR(50) DEFAULT NULL,
date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
FOREIGN KEY (u_id) REFERENCES users(u_id)
);